{"version":3,"file":"static/webpack/static/development/pages/animes.js.59bea00a89b7debc98ff.hot-update.js","sources":["webpack:///./helpers/Animes.js"],"sourcesContent":["import { isInList } from './Shared'\nimport { ANIME_SEIKOU, UNIVERSANIMEIZ } from '../rss';\nimport Axios from 'axios';\n\nexport const getAnimes = async () => {\n    let animes = []\n    await getAnimeSeikou(animes)\n    await getUniversAnimeiz(animes)\n\n    let cache = JSON.parse(localStorage.getItem('cache'))\n    cache.animes = animes\n    cache.animesDate = new Date()\n    localStorage.setItem('cache', JSON.stringify(cache))\n\n    return animes\n}\n\nconst getAnimeSeikou = async (array) => {\n    for(let i = 1; i <= 2; i++) {\n        let json = await Axios.get('https://cors-anywhere.herokuapp.com/' + ANIME_SEIKOU + i + '/')\n        formatJsonAnimeSeikou(json, array)\n    }\n    return array\n}\n\nconst getUniversAnimeiz = async (array) => {\n    for(let i = 1; i <= 2; i++) {\n        let json = await Axios.get('https://cors-anywhere.herokuapp.com/' + UNIVERSANIMEIZ + i + '/')\n        formatJsonUniversAnimeiz(json, array)\n    }\n    return array\n}\n\nconst formatJsonAnimeSeikou = (json, array) => {\n    const doc = new DOMParser().parseFromString(json.data, 'text/html')\n    const items = doc.getElementsByClassName('slide-entry')\n    for(let i = 0; i < items.length; i++) {\n        let title = items[i].children[3].children[5].innerText\n        title = title.replace('VOSTFR', '')\n        title = title.replace('vostfr', '')\n        if(isInList(title.toUpperCase(), 'animes')) {\n            let img = items[i].children[0].children[0].attributes[2].value\n            let date = items[i].children[3].children[3].innerText\n            let link = items[i].children[0].href\n            let item = {\n                title: title,\n                link: link,\n                // pubDate: date,\n                site: 'Anime Seikou',\n                img: img,\n                lang: 'VOSTFR'\n            }\n            if(!isInArray(item, array))\n                array.push(item)\n        }\n    }\n}\n\nconst formatJsonUniversAnimeiz = (json, array) => {\n    const doc = new DOMParser().parseFromString(json.data, 'text/html')\n    const items = doc.getElementsByClassName('recent-posts')[0]\n    for(let i = 0; i < items.children.length; i++) {\n        let title = items.children[i].children[1].children[1].innerText\n        title = title.replace('VOSTFR', '')\n        title = title.replace('vostfr', '')\n        if(isInList(title.toUpperCase(), 'animes') && !title.includes('VF')) {\n            let episode = items.children[i].children[1].children[3].innerText\n            let img = items.children[i].children[0].children[0].children[0].attributes[0].value\n            let link = items.children[i].children[0].children[0].href\n            let item = {\n                title: title + ' ' + episode.replace('Ã‰pisode ', ''),\n                link: link,\n                site: 'Univers Animeiz',\n                img: img,\n                lang: 'VOSTFR'\n            }\n            if(!isInArray(item, array))\n                array.push(item)\n        }\n    }\n}\n\nconst isInArray = (item, array) => {\n    let isInArray = false\n    for(let anime of array){\n        if(anime.title.includes(item.title))\n            return isInArray = true\n    }\n    return isInArray\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAKA;AACA;AACA;AACA;AARA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AAJA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AAJA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAEA;AAAA;AACA;AAEA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;;;;A","sourceRoot":""}